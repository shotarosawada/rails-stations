<h1>Movies</h1>
<%= form_with(url: movies_path, method: :get, local: true) do %>
  <div>
    <%= label_tag :keyword, "キーワード検索" %>
    <%= text_field_tag :name, params[:name] %>
  </div>

  <div>
    <%= label_tag :is_showing, "表示する映画" %><br>

    <%= radio_button_tag :is_showing, "1", params[:is_showing] == "1" %>
    <%= label_tag :is_showing_1, "上映中" %>

    <%= radio_button_tag :is_showing, "0", params[:is_showing] == "0" %>
    <%= label_tag :is_showing_0, "上映予定" %>

    <%= radio_button_tag :is_showing, "", params[:is_showing].blank? %>
    <%= label_tag :is_showing_blank, "すべて" %>
  </div>

  <div>
    <%= submit_tag "検索", class: "btn btn-primary" %>
  </div>
<% end %>

<table border="1">
  <thead>
    <tr>
      <th>Name</th>
      <th>Year</th>
      <th>Description</th>
      <th>Image</th>
      <th>Is Showing</th>
    </tr>
  </thead>
  <tbody>
    <% @movies.each do |movie| %>
      <tr>
        <td><%= movie.name %></td>
        <td><%= movie.year %></td>
        <td><%= movie.description %></td>
        <td><%= movie.image_url %></td>
        <td><%= movie.is_showing ? "上映中" : "未上映" %></td>
      </tr>
    <% end %>
  </tbody>
</table>